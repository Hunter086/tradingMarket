{% extends "base.html" %}

{% block extra_head %}
    <meta name="csrf-token" content="{{ csrf_token }}">
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.3/css/dataTables.dataTables.css" />
  
    <script src="https://cdn.datatables.net/2.0.3/js/dataTables.js"></script>
    <script src="https://cdn.datatables.net/responsive/3.0.0/css/responsive.dataTables.min.css"></script>
    <script src="https://cdn.datatables.net/responsive/3.0.0/js/dataTables.responsive.min.js"></script>
    
{% endblock extra_head %}
{% block content %}
<h2>Lista de Acciones</h2>
<table id="myTable" class="display">
    <thead>
        <tr>
            <th>Símbolo</th>
            <th>Cedears</th>
            <th>Nombre</th>
            <th>Mercado</th>
            <th>Último Precio</th>
            <th>Cambio</th>
            <th>Apertura</th>
            <th>Máximo</th>
            <th>Mínimo</th>
            <th>Fecha de Actualización</th>
            <th> recomendacion </th>
        </tr>
    </thead>
    <tbody>
        {% for accion in acciones %}
        <tr id="accion-{{ accion.simbolo }}">
            <td>{{ accion.simbolo }}</td>
            <td>{{ accion.simbolo_cedears }}</td>
            <td>{{ accion.nombre }}</td>
            <td>{{ accion.mercado }}</td>
            <td>{{ accion.ultimo_precio }}</td>
            <td>{{ accion.cambio }}</td>
            <td>{{ accion.apertura }}</td>
            <td>{{ accion.maximo }}</td>
            <td>{{ accion.minimo }}</td>
            <td>{{ accion.fecha_actualizacion|date:"d/m/Y H:i:s" }}</td>
            <td>{{ accion.recomendacion }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<script>
    $(document).ready( function () {
        $('#myTable').DataTable( {
            responsive: true
        } );
    } );
</script>
{% endblock content %}